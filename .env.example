# ============================================================================
# PROVABLY FAIR GAMES - ENVIRONMENT VARIABLES
# ============================================================================
#
# SECURITY NOTICE:
# - NEVER commit .env files to git (already in .gitignore)
# - Use strong, randomly generated values for all secrets
# - Rotate credentials immediately if exposed
# - Set these in Vercel Dashboard under Project Settings > Environment Variables
#
# ============================================================================

# ----------------------------------------------------------------------------
# SUPABASE DATABASE (REQUIRED)
# ----------------------------------------------------------------------------
# Get these from: Supabase Dashboard > Project Settings > API
#
# CRITICAL: These MUST be set - no fallback values allowed
# If you see hardcoded values in code, they are EXPIRED and must not be used

NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Service role key for cron jobs and admin operations
# Has elevated privileges - keep secure!
SUPABASE_SERVICE_KEY=your-service-role-key-here

# ----------------------------------------------------------------------------
# ADMIN AUTHENTICATION (REQUIRED)
# ----------------------------------------------------------------------------
# Used for /admin dashboard access
#
# SECURITY REQUIREMENTS:
# - Use a strong, random password (min 16 characters)
# - Include uppercase, lowercase, numbers, special characters
# - DO NOT use simple passwords like "admin123" or "password"
# - Rotate periodically (every 90 days recommended)
#
# Example: openssl rand -base64 24

ADMIN_PASSWORD=your-very-strong-random-password-here

# ----------------------------------------------------------------------------
# ERGO BLOCKCHAIN (REQUIRED for cron jobs)
# ----------------------------------------------------------------------------
# Used by daily-leaderboard cron job to post scores to Ergo blockchain
# Get these from your Ergo wallet

ERGO_SERVER_MNEMONIC=your twelve word mnemonic phrase here
ERGO_SERVER_ADDRESS=your_ergo_wallet_address
ERGO_GAME_ADDRESS=game_contract_address

# Secret token to authenticate cron job requests
# Generate: openssl rand -hex 32
CRON_SECRET=your-random-cron-secret-here

# ----------------------------------------------------------------------------
# SECURITY FLAGS (OPTIONAL - defaults shown)
# ----------------------------------------------------------------------------
# Enable/disable security features

# Rate limiting: Prevents spam/abuse (10 submissions per minute per player)
# Set to "false" only for testing - ALWAYS enable in production
ENABLE_RATE_LIMITING=true

# Fraud detection: Statistical analysis of suspicious submissions
# Recommended: Always enabled
ENABLE_FRAUD_DETECTION=true

# Validation level: full, basic, or minimal
# - full: Complete validation (blockchain + game logic + fraud detection)
# - basic: Game logic validation only (faster, less secure)
# - minimal: Format validation only (NOT recommended for production)
VALIDATION_LEVEL=full

# ----------------------------------------------------------------------------
# DEPLOYMENT CONFIGURATION
# ----------------------------------------------------------------------------

# Your production domain (for CORS configuration)
# Update vercel.json line 39 to match this domain
# Example: https://your-app-name.vercel.app
# IMPORTANT: Change this from the example domain to YOUR actual domain
NEXT_PUBLIC_APP_URL=https://provably-fair-games.vercel.app

# Node environment (Vercel sets this automatically)
NODE_ENV=production

# ----------------------------------------------------------------------------
# SETUP CHECKLIST
# ----------------------------------------------------------------------------
#
# Before deploying to production:
#
# ✅ Set all REQUIRED variables in Vercel Dashboard
# ✅ Generate strong random values for all secrets
# ✅ Update CORS domain in vercel.json (line 39) to match your domain
# ✅ Test admin login with new ADMIN_PASSWORD
# ✅ Verify Supabase connection works
# ✅ Test cron job with CRON_SECRET
# ✅ Enable rate limiting (ENABLE_RATE_LIMITING=true)
# ✅ Enable fraud detection (ENABLE_FRAUD_DETECTION=true)
# ✅ Set validation level to "full"
# ✅ NEVER use the old hardcoded credentials (they are exposed/expired)
#
# ----------------------------------------------------------------------------

# For local development:
# 1. Copy this file to .env.local (already in .gitignore)
# 2. Fill in your actual values
# 3. Run: npm run dev
#
# For Vercel deployment:
# 1. Go to: Vercel Dashboard > Your Project > Settings > Environment Variables
# 2. Add each variable above with your production values
# 3. Set for: Production, Preview, Development (or as needed)
# 4. Redeploy after adding variables
#
# ----------------------------------------------------------------------------

# SECURITY REMINDERS:
#
# ⚠️  The following credentials were EXPOSED in previous commits:
#     - Supabase URL: https://rmutcncnppyzirywzozc.supabase.co
#     - Supabase anon key: sb_publishable_K-KApBISA6IiiNE9CCnjNA_3qhuNg8k
#     - Admin password: CQgames
#
# ✅  ACTION REQUIRED:
#     1. Rotate Supabase keys in Supabase Dashboard
#     2. Set new ADMIN_PASSWORD (never use "CQgames" again)
#     3. Update all environment variables in Vercel
#     4. These old values are now considered COMPROMISED
#
# ============================================================================
